gacpCommitAndPush(){

    local dir remotes currentDir

    if [[ -z "$1" ]]; then
        loggErr "No commit message"
        return 1
    fi

    if ! isGitDir; then
        loggNotGit
        return 1
    fi

	git status | grep -q "nothing to commit" && {
        loggErr "Nothing to commit"
        return 1
	}

    remotes=$(git remote)
    currentDir="$(pwd -P)"
    for dir in "${BLACKLISTED_DIRECTORIES[@]}" ; do
       if [[ "$currentDir" == "$dir" ]]; then
           return 1
       fi
    done

    echo

    if [[ -n $remotes ]]; then
        git pull --no-rebase
    fi

    git add .
    git commit -m "$1"

    if [[ -n $remotes ]]; then
        git push
    fi
}

gacpCommitAndPush "$@"
